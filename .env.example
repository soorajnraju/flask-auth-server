# =============================================================================
# Enterprise Flask Authorization Server - Environment Configuration
# =============================================================================
# 
# IMPORTANT: This is an example file. Copy to .env and update values for your environment.
# 
# Security Notes:
# - Change ALL secret keys before production deployment
# - Never commit .env files to version control
# - Use environment-specific values for each deployment
# =============================================================================

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# PostgreSQL database connection
DATABASE_URL=postgresql+psycopg://postgres:postgres@localhost:5432/flask

# Individual database components (alternative to DATABASE_URL)
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=flask

# =============================================================================
# JWT AUTHENTICATION CONFIGURATION
# =============================================================================
# JWT Secret Key - CHANGE THIS IN PRODUCTION!
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
JWT_SECRET_KEY=your-super-secret-jwt-key-change-this-in-production-use-256-bits

# JWT Token Expiration (in seconds)
JWT_ACCESS_TOKEN_EXPIRES=3600        # 1 hour
JWT_REFRESH_TOKEN_EXPIRES=2592000    # 30 days

# =============================================================================
# FLASK APPLICATION CONFIGURATION
# =============================================================================
# Flask Environment (development, production, testing)
FLASK_ENV=development

# Flask Debug Mode (True/False)
FLASK_DEBUG=True

# Flask Secret Key - CHANGE THIS IN PRODUCTION!
# Generate with: python -c "import secrets; print(secrets.token_hex(16))"
SECRET_KEY=your-super-secret-key-change-this-in-production

# Application Host and Port
FLASK_HOST=127.0.0.1
FLASK_PORT=5001

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
# Password Security
BCRYPT_LOG_ROUNDS=12                 # Higher = more secure but slower (10-15 recommended)
PASSWORD_MIN_LENGTH=8                # Minimum password length

# Session Security
SESSION_COOKIE_SECURE=False          # Set to True in production with HTTPS
SESSION_COOKIE_HTTPONLY=True
SESSION_COOKIE_SAMESITE=Lax

# =============================================================================
# REDIS CONFIGURATION (Optional - for rate limiting and caching)
# =============================================================================
# Redis connection for rate limiting and session storage
REDIS_URL=redis://localhost:6379/0

# Rate limiting configuration
RATE_LIMIT_STORAGE_URL=redis://localhost:6379/1
RATELIMIT_DEFAULT=100 per hour       # Default rate limit

# =============================================================================
# CORS CONFIGURATION
# =============================================================================
# Allowed origins for Cross-Origin Resource Sharing
# Comma-separated list of allowed domains
CORS_ORIGINS=http://localhost:3000,http://localhost:8080,http://127.0.0.1:3000

# CORS settings
CORS_ALLOW_CREDENTIALS=true
CORS_MAX_AGE=3600

# =============================================================================
# EMAIL CONFIGURATION (Optional - for user verification/notifications)
# =============================================================================
# SMTP server configuration
MAIL_SERVER=smtp.gmail.com
MAIL_PORT=587
MAIL_USE_TLS=True
MAIL_USE_SSL=False

# Email credentials (use app passwords for Gmail)
MAIL_USERNAME=your-email@gmail.com
MAIL_PASSWORD=your-app-password

# Default sender
MAIL_DEFAULT_SENDER=noreply@yourcompany.com

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
# Logging level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Log file path (leave empty to log to console only)
LOG_FILE=logs/app.log

# Enable/disable request logging
LOG_REQUESTS=True

# =============================================================================
# MONITORING & HEALTH CHECK CONFIGURATION
# =============================================================================
# Health check configuration
HEALTH_CHECK_ENABLED=True
HEALTH_CHECK_DATABASE=True
HEALTH_CHECK_REDIS=False             # Set to True if using Redis

# Metrics and monitoring
METRICS_ENABLED=False
METRICS_PORT=9090

# =============================================================================
# DEVELOPMENT CONFIGURATION
# =============================================================================
# Development-specific settings
DEV_AUTO_RELOAD=True
DEV_SHOW_SQL=False                   # Show SQL queries in logs

# Testing configuration
TESTING=False
TEST_DATABASE_URL=sqlite:///test.db

# =============================================================================
# PRODUCTION OVERRIDES
# =============================================================================
# Uncomment and set these for production deployment

# Production database (use connection pooling)
# DATABASE_URL=postgresql://user:password@prod-db-host:5432/production_db

# Production secrets (use secure random values)
# JWT_SECRET_KEY=your-production-jwt-secret-256-bits-long
# SECRET_KEY=your-production-flask-secret-key

# Production security settings
# FLASK_ENV=production
# FLASK_DEBUG=False
# BCRYPT_LOG_ROUNDS=13
# SESSION_COOKIE_SECURE=True

# Production CORS (restrict to your domains)
# CORS_ORIGINS=https://yourapp.com,https://admin.yourapp.com

# Production Redis
# REDIS_URL=redis://prod-redis-host:6379/0

# =============================================================================
# DOCKER CONFIGURATION
# =============================================================================
# Docker-specific environment variables (used in docker-compose)
DOCKER_DATABASE_HOST=db
DOCKER_REDIS_HOST=redis
DOCKER_APP_PORT=5001

# =============================================================================
# CLOUD PROVIDER CONFIGURATION
# =============================================================================
# AWS Configuration (if using AWS services)
# AWS_ACCESS_KEY_ID=your-aws-access-key
# AWS_SECRET_ACCESS_KEY=your-aws-secret-key
# AWS_REGION=us-east-1
# AWS_S3_BUCKET=your-app-bucket

# Google Cloud Configuration (if using GCP services)
# GOOGLE_APPLICATION_CREDENTIALS=path/to/service-account.json
# GCP_PROJECT_ID=your-gcp-project

# Azure Configuration (if using Azure services)
# AZURE_STORAGE_CONNECTION_STRING=your-azure-connection-string

# =============================================================================
# CUSTOM APPLICATION SETTINGS
# =============================================================================
# Application-specific settings
APP_NAME=Enterprise Authorization Server
APP_VERSION=1.0.0
APP_ENVIRONMENT=development

# Feature flags
FEATURE_USER_REGISTRATION=True
FEATURE_EMAIL_VERIFICATION=False
FEATURE_PASSWORD_RESET=False
FEATURE_SOCIAL_LOGIN=False

# Business logic settings
MAX_LOGIN_ATTEMPTS=5
ACCOUNT_LOCKOUT_DURATION=300         # 5 minutes in seconds
TOKEN_CLEANUP_INTERVAL=3600          # 1 hour in seconds

# =============================================================================
# ENVIRONMENT VALIDATION
# =============================================================================
# These help validate your environment setup
REQUIRED_ENV_VARS=DATABASE_URL,JWT_SECRET_KEY,SECRET_KEY
OPTIONAL_ENV_VARS=REDIS_URL,MAIL_SERVER

# =============================================================================
# END OF CONFIGURATION
# =============================================================================